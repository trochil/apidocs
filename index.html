
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>蜂鸟API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-a1ce949a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-1e815a84.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#5ea2e0cde2" class="toc-h1 toc-link" data-title="简介">简介</a>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API">API</a>
          </li>
          <li>
            <a href="#d9d514d202" class="toc-h1 toc-link" data-title="行情数据">行情数据</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#a" class="toc-h2 toc-link" data-title="A股">A股</a>
                  </li>
                  <li>
                    <a href="#26b01652c5" class="toc-h2 toc-link" data-title="港股">港股</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='http://www.trochil.cn/'>蜂鸟首页</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='5ea2e0cde2'>简介</h1>
<p>蜂鸟数据是轻量级金融终端，提供主流金融市场的实时报价和历史数据。我们提供高度统一和强大的REST API和Websocket API，让您轻松获取金融数据。</p>

<p>登录<a href="http://www.trochil.com">蜂鸟数据</a>，注册成为我们的会员，即可免费使用API服务，每天可免费调用250次REST API，并试用7天Websocket，适用于所有接口和市场。</p>

<p>覆盖市场和交易所：</p>

<ul>
<li>A股：上海证券交易所和深圳证券交易所的全部A股</li>
<li>港股：香港证券交易所上市的股票(不包括牛熊证)</li>
<li>美股：纽约证券交易所和纳斯达克交易所</li>
<li>期货：郑州商品交易所，大量商品交易所，上海期货交易所，中国金融期货交易所</li>
<li>数字货币：币安(Binance), Okex, 火币(Huobi), Coinbase, Poloniex, Bitfinex</li>
<li>外汇：80多个货币对，包含新兴市场国家的汇率</li>
</ul>

<p><strong>http请求base url:</strong></p>

<p>api.trochil.cn</p>
<h1 id='api'>API</h1>
<p>所有接口均要求认证，注册成为我们的用户后可以在个人主页找到API key，请求数据时传递您的API key作为参数，详情看代码实例。</p>
<h1 id='d9d514d202'>行情数据</h1><h2 id='a'>A股</h2><h3 id='950b559860'>产品列表</h3>
<blockquote>
<p>示例代码：查询A股产品列表</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/cnstock/markets'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">})</span>
</code></pre>
<blockquote>
<p>返回结果：查询A股产品列表</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1583475638869</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600000</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'浦发银行'</span><span class="p">,</span><span class="w"> </span><span class="err">'exchange'</span><span class="p">:</span><span class="w"> </span><span class="err">'上海证券交易所'</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600004</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'白云机场'</span><span class="p">,</span><span class="w"> </span><span class="err">'exchange'</span><span class="p">:</span><span class="w"> </span><span class="err">'上海证券交易所'</span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>获取上海证券交易所和深证证券交易所上市交易的全部A股。</p>
<h4 id='http'>HTTP请求</h4>
<p><code>GET v1/cnstock/markets</code></p>
<h4 id='1f9ac54b15'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>对应A股的名称和隶属交易所信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h3 id='2ab4fa4378'>实时报价</h3>
<blockquote>
<p>示例代码：查询A股实时报价</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/cnstock/quote'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">'symbol'</span><span class="p">:</span> <span class="s">'SZ300564,SZ300820'</span><span class="p">,</span>
                            <span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">})</span>
</code></pre>
<blockquote>
<p>返回结果：查询A股实时报价</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1590752105706</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">'SH</span><span class="mi">600004</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600004</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'白云机场'</span><span class="p">,</span><span class="w"> </span><span class="err">'last'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.35</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'pre_close'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">15.6</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">15.45</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">27333100.0</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'volume_lot'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">273331.0</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'volume_cny'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">444270000.0</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">1</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.34</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'bid</span><span class="mi">1</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">434</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">2</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.33</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">2</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2814</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">3</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.32</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">3</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">88</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'bid</span><span class="mi">4</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.31</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">4</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">323</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">5</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.3</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">5</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">882</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">1</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.35</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'ask</span><span class="mi">1</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">98</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">2</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.36</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">2</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">599</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">3</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.37</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">3</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">164</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'ask</span><span class="mi">4</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.38</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">4</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">378</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">5</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.39</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">5</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">153</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'change'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">0.75</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'percent_change'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">4.81</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">16.59</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">15.42</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'pe'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">48.79</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'pb'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">2.04</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'trade_market_value'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">338.33</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'total_market_value'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">338.33</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-05-29</span><span class="w"> </span><span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">1590738050000</span><span class="err">'</span><span class="p">},</span><span class="w">
        </span><span class="err">'SH</span><span class="mi">600000</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600000</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'浦发银行'</span><span class="p">,</span><span class="w"> </span><span class="err">'last'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.57</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'pre_close'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.53</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.45</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">30659200.0</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'volume_lot'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">306592.0</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'volume_cny'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">322830000.0</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">1</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.55</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'bid</span><span class="mi">1</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">51</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">2</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.54</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">2</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">186</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">3</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.53</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">3</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2587</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'bid</span><span class="mi">4</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.52</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">4</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">4044</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">5</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.51</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'bid</span><span class="mi">5</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">4766</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">1</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.57</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'ask</span><span class="mi">1</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">1494</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">2</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.58</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">2</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">5354</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">3</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.59</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">3</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">3282</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'ask</span><span class="mi">4</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.6</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">4</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">4682</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">5</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.61</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'ask</span><span class="mi">5</span><span class="err">_qty'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">1300</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'change'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">0.04</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'percent_change'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">0.38</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.57</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">10.45</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'pe'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">5.19</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'pb'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">0.61</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'trade_market_value'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">2970.57</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'total_market_value'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mf">3102.51</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-05-29</span><span class="w"> </span><span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">39</span><span class="err">'</span><span class="p">,</span><span class="w">
                     </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">1590738039000</span><span class="err">'</span><span class="p">}},</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>查询沪深A股的实时报价(level1)，每次最多查询25个产品。上海证券交易所股票代码加前缀&#39;SH&#39;，深圳证券交易所股票代码加前缀&#39;SZ&#39;。</p>
<h4 id='http-2'>HTTP请求</h4>
<p><code>GET v1/cnstock/quote</code></p>
<h4 id='1f9ac54b15-2'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>股票代码，同时获取多个股票以逗号分隔，如SZ300817,SZ300820</td>
</tr>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-2'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>对应个股品种的报价信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h4 id='data'>data说明</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>股票代码</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>股票中文名称</td>
</tr>
<tr>
<td>last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>pre_close</td>
<td>String</td>
<td>昨日收盘价</td>
</tr>
<tr>
<td>open</td>
<td>String</td>
<td>当日开盘价</td>
</tr>
<tr>
<td>volume</td>
<td>String</td>
<td>当日成交量(股)</td>
</tr>
<tr>
<td>volume_lot</td>
<td>String</td>
<td>当日成交量(手)</td>
</tr>
<tr>
<td>volume_cny</td>
<td>String</td>
<td>当日成交金额</td>
</tr>
<tr>
<td>bid1</td>
<td>String</td>
<td>最新买一价格</td>
</tr>
<tr>
<td>bid1_qty</td>
<td>String</td>
<td>最新买一挂单量</td>
</tr>
<tr>
<td>bid2</td>
<td>String</td>
<td>最新买二价格</td>
</tr>
<tr>
<td>bid2_qty</td>
<td>String</td>
<td>最新买二挂单量</td>
</tr>
<tr>
<td>bid3</td>
<td>String</td>
<td>最新买三价格</td>
</tr>
<tr>
<td>bid3_qty</td>
<td>String</td>
<td>最新买三挂单量</td>
</tr>
<tr>
<td>bid4</td>
<td>String</td>
<td>最新买四价格</td>
</tr>
<tr>
<td>bid4_qty</td>
<td>String</td>
<td>最新买四挂单量</td>
</tr>
<tr>
<td>bid5</td>
<td>String</td>
<td>最新买五价格</td>
</tr>
<tr>
<td>bid5_qty</td>
<td>String</td>
<td>最新买五挂单量</td>
</tr>
<tr>
<td>ask1</td>
<td>String</td>
<td>最新卖一价格</td>
</tr>
<tr>
<td>ask1_qty</td>
<td>String</td>
<td>最新卖一挂单量</td>
</tr>
<tr>
<td>ask2</td>
<td>String</td>
<td>最新卖二价格</td>
</tr>
<tr>
<td>ask2_qty</td>
<td>String</td>
<td>最新卖二挂单量</td>
</tr>
<tr>
<td>ask3</td>
<td>String</td>
<td>最新卖三价格</td>
</tr>
<tr>
<td>ask3_qty</td>
<td>String</td>
<td>最新卖三挂单量</td>
</tr>
<tr>
<td>ask4</td>
<td>String</td>
<td>最新卖四价格</td>
</tr>
<tr>
<td>ask4_qty</td>
<td>String</td>
<td>最新卖四挂单量</td>
</tr>
<tr>
<td>ask5</td>
<td>String</td>
<td>最新卖五价格</td>
</tr>
<tr>
<td>ask5_qty</td>
<td>String</td>
<td>最新卖五挂单量</td>
</tr>
<tr>
<td>change</td>
<td>String</td>
<td>涨跌数额</td>
</tr>
<tr>
<td>percent_change</td>
<td>String</td>
<td>涨跌百分比</td>
</tr>
<tr>
<td>high</td>
<td>String</td>
<td>当日最高价</td>
</tr>
<tr>
<td>low</td>
<td>String</td>
<td>当日最低价</td>
</tr>
<tr>
<td>pe</td>
<td>String</td>
<td>市盈率</td>
</tr>
<tr>
<td>pb</td>
<td>String</td>
<td>市净率</td>
</tr>
<tr>
<td>trade_market_value</td>
<td>String</td>
<td>流动市值</td>
</tr>
<tr>
<td>total_market_value</td>
<td>String</td>
<td>总市值</td>
</tr>
<tr>
<td>datetime</td>
<td>String</td>
<td>最新成交北京时间</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>最新成交时间戳</td>
</tr>
</tbody></table>
<h3 id='fdca4c5804'>日图历史</h3>
<blockquote>
<p>示例代码：查询A股日图历史</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/cnstock/history'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                        <span class="s">'symbol'</span><span class="p">:</span> <span class="s">'SH600012'</span><span class="p">,</span>
                        <span class="s">'start_date'</span><span class="p">:</span> <span class="s">'2020-03-01'</span><span class="p">,</span>
                        <span class="s">'end_date'</span><span class="p">:</span> <span class="s">'2020-03-04'</span><span class="p">,</span>
                        <span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">}</span>
                    <span class="p">)</span>
</code></pre>
<blockquote>
<p>返回结果：查询A股日图历史</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1583477561417</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-03-02</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.2</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.32</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.2</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.3</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">29389.0</span><span class="p">,</span><span class="w">
         </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600012</span><span class="err">'</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-03-03</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.34</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.39</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.3</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.34</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">36059.0</span><span class="p">,</span><span class="w">
         </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600012</span><span class="err">'</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-03-04</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.31</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.57</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.31</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">5.54</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">103134.0</span><span class="p">,</span><span class="w">
         </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600012</span><span class="err">'</span><span class="p">}],</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>获取沪深A股的日图历史数据。</p>
<h4 id='http-3'>HTTP请求</h4>
<p><code>GET v1/cnstock/history</code></p>
<h4 id='1f9ac54b15-3'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>股票代码,如SH600012</td>
</tr>
<tr>
<td>start_date</td>
<td>String</td>
<td>False</td>
<td>数据起始时间</td>
<td>样本起始时间,如2019-01-01</td>
</tr>
<tr>
<td>end_date</td>
<td>String</td>
<td>False</td>
<td>最近更新时间</td>
<td>样本结束时间,如2019-09-09</td>
</tr>
<tr>
<td>freq</td>
<td>String</td>
<td>False</td>
<td>daily</td>
<td>频率</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>False</td>
<td>asc</td>
<td>按时间戳排序，asc(升序), desc(降序)</td>
</tr>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-3'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>对应个股品种的报价信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h4 id='data-2'>data说明</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>datetime</td>
<td>String</td>
<td>k线时间</td>
</tr>
<tr>
<td>open</td>
<td>Float</td>
<td>开盘价</td>
</tr>
<tr>
<td>high</td>
<td>Float</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>Float</td>
<td>最低价</td>
</tr>
<tr>
<td>close</td>
<td>Float</td>
<td>收盘价</td>
</tr>
<tr>
<td>volume</td>
<td>Float</td>
<td>成交量</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>股票代码</td>
</tr>
</tbody></table>
<h3 id='9d355d079e'>多产品单日历史</h3>
<blockquote>
<p>示例代码：查询A股多股票单日数据</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/cnstock/history_one_day'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                        <span class="s">'symbol'</span><span class="p">:</span> <span class="s">'SH600012,SH600015'</span><span class="p">,</span>
                        <span class="s">'date'</span><span class="p">:</span> <span class="s">'2011-09-29'</span><span class="p">,</span>
                        <span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">}</span>
                    <span class="p">)</span>
</code></pre>
<blockquote>
<p>返回结果：查询A股多股票单日数据</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1583477976901</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2011-09-29</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">3.413</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">3.421</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">3.351</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">3.366</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">17783.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600012</span><span class="err">'</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2011-09-29</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">4.144</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">4.254</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">4.139</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">4.207</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">195176.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SH</span><span class="mi">600015</span><span class="err">'</span><span class="p">}],</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>同时获取多个股票单天的K线数据，最多同时查询25个。</p>
<h4 id='http-4'>HTTP请求</h4>
<p><code>GET v1/cnstock/history_one_day</code></p>
<h4 id='1f9ac54b15-4'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>股票代码,如SH600012,多个股票品种以逗号分隔,逗号之间不要有空格</td>
</tr>
<tr>
<td>date</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>数据获取时间,如2019-01-01</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>False</td>
<td>asc</td>
<td>按股票代码的字符顺序排序，asc(升序)，desc(降序)</td>
</tr>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-4'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>对应股票品种的报价信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h4 id='data-3'>data说明</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>datetime</td>
<td>String</td>
<td>k线时间</td>
</tr>
<tr>
<td>open</td>
<td>Float</td>
<td>开盘价</td>
</tr>
<tr>
<td>high</td>
<td>Float</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>Float</td>
<td>最低价</td>
</tr>
<tr>
<td>close</td>
<td>Float</td>
<td>收盘价</td>
</tr>
<tr>
<td>volume</td>
<td>Float</td>
<td>成交量</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>个股品种代码</td>
</tr>
</tbody></table>
<h3 id='dba7d7f4fb'>日内数据</h3>
<blockquote>
<p>示例代码：查询A股日内数据</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/cnstock/intraday'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                        <span class="s">'symbol'</span><span class="p">:</span> <span class="s">'SZ300817'</span><span class="p">,</span>
                        <span class="s">'timeframe'</span><span class="p">:</span> <span class="s">'60'</span><span class="p">,</span>
                        <span class="s">'range'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                        <span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">}</span>
                    <span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre>
<blockquote>
<p>返回结果：查询A股日内数据</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1583478112575</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-03-05</span><span class="w"> </span><span class="mi">09</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.5</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">42.99</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">39.0</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.5</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">64686.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SZ</span><span class="mi">300817</span><span class="err">'</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-03-05</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.5</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.5</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">40.0</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">40.36</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">8865.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SZ</span><span class="mi">300817</span><span class="err">'</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-03-05</span><span class="w"> </span><span class="mi">13</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">40.36</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.83</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">39.8</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.33</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">12049.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SZ</span><span class="mi">300817</span><span class="err">'</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-03-05</span><span class="w"> </span><span class="mi">14</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.33</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">41.62</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">40.04</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">40.2</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">16964.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'SZ</span><span class="mi">300817</span><span class="err">'</span><span class="p">}],</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>获取沪深A股的日内K线，1分钟图最多返回过去7天的数据，5分钟图和60分钟图最多返回过去30天的数据。沪深A股暂时不提供1分钟历史数据。</p>
<h4 id='http-5'>HTTP请求</h4>
<p><code>GET v1/cnstock/intraday</code></p>
<h4 id='1f9ac54b15-5'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>股票代码，如SZ300817</td>
</tr>
<tr>
<td>timeframe</td>
<td>int</td>
<td>True</td>
<td>NA</td>
<td>频率，5分钟为5，60分钟为60,目前仅支持5分钟和60分钟</td>
</tr>
<tr>
<td>range</td>
<td>int</td>
<td>True</td>
<td>7</td>
<td>查询天数, 7代表7天, 范围1-30</td>
</tr>
<tr>
<td>endTime</td>
<td>String</td>
<td>False</td>
<td>当前时间</td>
<td>请求的结束时间</td>
</tr>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-5'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>对应股票品种的报价信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h4 id='data-4'>data说明</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>datetime</td>
<td>String</td>
<td>k线时间</td>
</tr>
<tr>
<td>open</td>
<td>Float</td>
<td>开盘价</td>
</tr>
<tr>
<td>high</td>
<td>Float</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>Float</td>
<td>最低价</td>
</tr>
<tr>
<td>close</td>
<td>Float</td>
<td>收盘价</td>
</tr>
<tr>
<td>volume</td>
<td>Float</td>
<td>成交量</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>个股品种代码</td>
</tr>
</tbody></table>
<h2 id='26b01652c5'>港股</h2><h3 id='950b559860-2'>产品列表</h3>
<blockquote>
<p>实例代码：查询港股产品列表:</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/hkstock/markets'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">})</span>
</code></pre>
<blockquote>
<p>返回示例：查询港股产品列表:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1583478480228</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'HK</span><span class="mi">00001</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'长和'</span><span class="p">,</span><span class="w"> </span><span class="err">'exchange'</span><span class="p">:</span><span class="w"> </span><span class="err">'香港证券交易所'</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'HK</span><span class="mi">00002</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'name'</span><span class="p">:</span><span class="w"> </span><span class="err">'中电控股'</span><span class="p">,</span><span class="w"> </span><span class="err">'exchange'</span><span class="p">:</span><span class="w"> </span><span class="err">'香港证券交易所'</span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>获取香港证券交易所上市的全部股票(不包含ETH和牛熊证)。</p>
<h4 id='http-6'>HTTP请求</h4>
<p><code>GET v1/hkstock/markets</code></p>
<h4 id='1f9ac54b15-6'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-6'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>对应港股的名称和隶属交易所信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h3 id='2ab4fa4378-2'>实时报价</h3>
<blockquote>
<p>示例代码：查询港股实时报价</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/hkstock/quote'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                        <span class="s">'symbol'</span><span class="p">:</span> <span class="s">'HK09938,HK09968'</span><span class="p">,</span>
                        <span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">}</span>
                    <span class="p">)</span>
</code></pre>
<blockquote>
<p>示例代码：查询港股实时报价</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1590041611265</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">'HK</span><span class="mi">09938</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HK09938"</span><span class="p">,</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"华和控股"</span><span class="p">,</span><span class="w"> </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.245"</span><span class="p">,</span><span class="w"> </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.012"</span><span class="p">,</span><span class="w"> </span><span class="s2">"percent_change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.15"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.255"</span><span class="p">,</span><span class="w"> </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.223"</span><span class="p">,</span><span class="w"> </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.233"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pre_close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.233"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.38"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"52week_high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.79"</span><span class="p">,</span><span class="w"> </span><span class="s2">"52week_low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11770000.0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"volume_hkd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2876975.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-21 14:10:07"</span><span class="p">,</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1590041407000"</span><span class="p">},</span><span class="w">
        </span><span class="err">'HK</span><span class="mi">09968</span><span class="err">'</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HK09968"</span><span class="p">,</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"汇景控股"</span><span class="p">,</span><span class="w"> </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.07"</span><span class="p">,</span><span class="w"> </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"percent_change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.98"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.09"</span><span class="p">,</span><span class="w"> </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.03"</span><span class="p">,</span><span class="w"> </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.03"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pre_close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.05"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pe"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.11"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"52week_high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"52week_low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.73"</span><span class="p">,</span><span class="w"> </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2040000.0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"volume_hkd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4208520.0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"datetime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-21 14:12:47"</span><span class="p">,</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1590041567000"</span><span class="p">}},</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>查询港股的实时报价，不包含bid/ask价格，每次最多查询25个产品。股票代码加前缀&#39;HK&#39;。</p>
<h4 id='http-7'>HTTP请求</h4>
<p><code>GET v1/hkstock/quote</code></p>
<h4 id='1f9ac54b15-7'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>股票代码，同时获取多个股票以逗号分隔，如HK09938,HK09968</td>
</tr>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-7'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>dict</td>
<td>对应个股品种的报价信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h4 id='data-5'>data说明</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>股票代码</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>股票中文名称</td>
</tr>
<tr>
<td>last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>change</td>
<td>String</td>
<td>涨跌变动数额</td>
</tr>
<tr>
<td>percent_change</td>
<td>String</td>
<td>涨跌变动比率</td>
</tr>
<tr>
<td>high</td>
<td>String</td>
<td>当日最高价</td>
</tr>
<tr>
<td>low</td>
<td>String</td>
<td>当日最低价</td>
</tr>
<tr>
<td>open</td>
<td>String</td>
<td>当日开盘价</td>
</tr>
<tr>
<td>pre_close</td>
<td>String</td>
<td>昨日收盘价</td>
</tr>
<tr>
<td>pe</td>
<td>String</td>
<td>市盈率</td>
</tr>
<tr>
<td>52week_high</td>
<td>String</td>
<td>52周最高价</td>
</tr>
<tr>
<td>52week_low</td>
<td>String</td>
<td>52周最低价</td>
</tr>
<tr>
<td>volume</td>
<td>String</td>
<td>股票成交量</td>
</tr>
<tr>
<td>volume_hkd</td>
<td>String</td>
<td>成交金额</td>
</tr>
<tr>
<td>datetime</td>
<td>String</td>
<td>最新成交北京时间</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>最新成交时间戳</td>
</tr>
</tbody></table>
<h3 id='fdca4c5804-2'>日图历史</h3>
<blockquote>
<p>示例代码：查询港股日图历史</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/hkstock/history'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                        <span class="s">'symbol'</span><span class="p">:</span> <span class="s">'HK09968'</span><span class="p">,</span>
                        <span class="s">'start_date'</span><span class="p">:</span> <span class="s">'2020-02-01'</span><span class="p">,</span>
                        <span class="s">'end_date'</span><span class="p">:</span> <span class="s">'2020-02-04'</span><span class="p">,</span>
                        <span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">}</span>
                    <span class="p">)</span>
</code></pre>
<blockquote>
<p>返回结果：查询港股日图历史</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1583478838781</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-02-03</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.92</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.95</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.95</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">1780000.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'HK</span><span class="mi">09968</span><span class="err">'</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-02-04</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.94</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">2.12</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.94</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.97</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">2790000.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'HK</span><span class="mi">09968</span><span class="err">'</span><span class="p">}],</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>获取港股的日图历史数据。</p>
<h4 id='http-8'>HTTP请求</h4>
<p><code>GET v1/hkstock/history</code></p>
<h4 id='1f9ac54b15-8'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>股票代码,如HK09968</td>
</tr>
<tr>
<td>start_date</td>
<td>String</td>
<td>False</td>
<td>数据起始时间</td>
<td>样本起始时间,如2019-01-01</td>
</tr>
<tr>
<td>end_date</td>
<td>String</td>
<td>False</td>
<td>最近更新时间</td>
<td>样本结束时间,如2019-09-09</td>
</tr>
<tr>
<td>freq</td>
<td>String</td>
<td>False</td>
<td>daily</td>
<td>频率</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>False</td>
<td>asc</td>
<td>按时间戳排序，asc(升序), desc(降序)</td>
</tr>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-8'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>对应个股品种的报价信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h4 id='data-6'>data说明</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>datetime</td>
<td>String</td>
<td>k线时间</td>
</tr>
<tr>
<td>open</td>
<td>Float</td>
<td>开盘价</td>
</tr>
<tr>
<td>high</td>
<td>Float</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>Float</td>
<td>最低价</td>
</tr>
<tr>
<td>close</td>
<td>Float</td>
<td>收盘价</td>
</tr>
<tr>
<td>volume</td>
<td>Float</td>
<td>成交量</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>股票代码</td>
</tr>
</tbody></table>
<h3 id='9d355d079e-2'>多产品单日历史</h3>
<blockquote>
<p>代码示例：查询港股多股票的单日数据</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://api.trochil.cn/v1/hkstock/history_one_day'</span><span class="p">,</span>
                    <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                        <span class="s">'symbol'</span><span class="p">:</span> <span class="s">'HK09938,HK09968'</span><span class="p">,</span>
                        <span class="s">'date'</span><span class="p">:</span> <span class="s">'2020-02-04'</span><span class="p">,</span>
                        <span class="s">'apikey'</span><span class="p">:</span> <span class="s">'your apikey'</span><span class="p">}</span>
                    <span class="p">)</span>
</code></pre>
<blockquote>
<p>代码示例：查询港股多股票单日数据</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="err">'timestamp'</span><span class="p">:</span><span class="w"> </span><span class="mi">1583479171828</span><span class="p">,</span><span class="w">
    </span><span class="err">'data'</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-02-04</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">0.69</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">0.69</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">0.66</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">0.67</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">680000.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'HK</span><span class="mi">09938</span><span class="err">'</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="err">'datetime'</span><span class="p">:</span><span class="w"> </span><span class="err">'</span><span class="mi">2020-02-04</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="err">'open'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.94</span><span class="p">,</span><span class="w"> </span><span class="err">'high'</span><span class="p">:</span><span class="w"> </span><span class="mf">2.12</span><span class="p">,</span><span class="w"> </span><span class="err">'low'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.94</span><span class="p">,</span><span class="w"> </span><span class="err">'close'</span><span class="p">:</span><span class="w"> </span><span class="mf">1.97</span><span class="p">,</span><span class="w"> </span><span class="err">'volume'</span><span class="p">:</span><span class="w"> </span><span class="mf">2790000.0</span><span class="p">,</span><span class="w"> </span><span class="err">'symbol'</span><span class="p">:</span><span class="w"> </span><span class="err">'HK</span><span class="mi">09968</span><span class="err">'</span><span class="p">}],</span><span class="w">
    </span><span class="err">'status'</span><span class="p">:</span><span class="w"> </span><span class="err">'ok'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>同时获取多个股票单天的K线数据，最多同时查询25个。</p>
<h4 id='http-9'>HTTP请求</h4>
<p><code>GET v1/hkstock/history_one_day</code></p>
<h4 id='1f9ac54b15-9'>请求参数</h4>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>是否必须</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>股票代码,如HK09938,多个股票品种以逗号分隔,逗号之间不要有空格</td>
</tr>
<tr>
<td>date</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>数据获取时间,如2019-01-01</td>
</tr>
<tr>
<td>sort</td>
<td>String</td>
<td>False</td>
<td>asc</td>
<td>按股票代码的字符顺序排序，asc(升序)，desc(降序)</td>
</tr>
<tr>
<td>apikey</td>
<td>String</td>
<td>True</td>
<td>NA</td>
<td>用户申请的apikey</td>
</tr>
</tbody></table>
<h4 id='2213f4c32f-9'>响应数据</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>int</td>
<td>请求响应时间戳</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td>对应股票品种的报价信息</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>请求结果状态</td>
</tr>
</tbody></table>
<h4 id='data-7'>data说明</h4>
<table><thead>
<tr>
<th>字段名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>datetime</td>
<td>String</td>
<td>k线时间</td>
</tr>
<tr>
<td>open</td>
<td>Float</td>
<td>开盘价</td>
</tr>
<tr>
<td>high</td>
<td>Float</td>
<td>最高价</td>
</tr>
<tr>
<td>low</td>
<td>Float</td>
<td>最低价</td>
</tr>
<tr>
<td>close</td>
<td>Float</td>
<td>收盘价</td>
</tr>
<tr>
<td>volume</td>
<td>Float</td>
<td>成交量</td>
</tr>
<tr>
<td>symbol</td>
<td>String</td>
<td>个股品种代码</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The trochil API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>10002</td>
<td>请求日线数据时传递的频率参数错误 -- freq not match daily</td>
</tr>
<tr>
<td>10003</td>
<td>数据返回的排序参数传递错误 -- sort not in [asc, desc]</td>
</tr>
<tr>
<td>10004</td>
<td>请求参数中的日线时间格式错误 -- time not format like xxxx-xx-xx</td>
</tr>
<tr>
<td>10005</td>
<td>请求日内数据时的时间参数格式错误 -- time not format like xxxx-xx-xx xx:xx:xx</td>
</tr>
<tr>
<td>10006</td>
<td>请求参数中的开始时间大于结束时间 -- start_date is greater than end_date</td>
</tr>
<tr>
<td>10007</td>
<td>请求需要传递品种代码symbol -- symbol is required</td>
</tr>
<tr>
<td>10008</td>
<td>请求没有传递时间频率 -- timeframe is required</td>
</tr>
<tr>
<td>10009</td>
<td>港股和美股请求频率只能是1分钟5分钟和60分钟 -- timeframe should in [1, 5, 60]</td>
</tr>
<tr>
<td>10010</td>
<td>请求需要传递date参数 -- date is required</td>
</tr>
<tr>
<td>10011</td>
<td>单次请求多个品种单日历史数据时不能超过数量上限 -- symbol should less than xx</td>
</tr>
<tr>
<td>10012</td>
<td>请求参数range应该传递正整数 -- range should be type int and &gt; 0</td>
</tr>
<tr>
<td>10013</td>
<td>非1分钟k线数据请求参数range过大或者过小 -- range should between xx and xx</td>
</tr>
<tr>
<td>10014</td>
<td>1分钟k线数据请求参数range过大或者过小 -- range should between xx and xx</td>
</tr>
<tr>
<td>10015</td>
<td>传递的symbol参数不存在 -- symbol is not exist</td>
</tr>
<tr>
<td>10016</td>
<td>请求没有传递apikey -- apikey is required</td>
</tr>
<tr>
<td>10017</td>
<td>请求传递的apikey错误 -- apikey is invalid</td>
</tr>
<tr>
<td>10018</td>
<td>发生了未知异常,请重试或者联系我们 -- An unexpected error has occurred. Please try again</td>
</tr>
<tr>
<td>10019</td>
<td>免费用户请求1分钟数据时间过长 -- free users can get up to xx days of data before today</td>
</tr>
<tr>
<td>10020</td>
<td>免费用户请求非1分钟数据时间过长 -- free users can get up to xx days of data before today</td>
</tr>
<tr>
<td>10021</td>
<td>免费用户没有请求市场类型权限 -- free users have no right to markets</td>
</tr>
<tr>
<td>10022</td>
<td>今日市场类型请求次数已达到上限 -- The number of markets requests for today has been exhausted</td>
</tr>
<tr>
<td>10023</td>
<td>今日日线级别数据请求次数已达到上限 -- The number of daily requests for today has been exhausted</td>
</tr>
<tr>
<td>10024</td>
<td>今日日内级别数据请求次数已达到上限 -- The number of day_inner requests for today has been exhausted</td>
</tr>
<tr>
<td>10025</td>
<td>免费用户当日总请求次数已达到上限 -- The number of requests for today has been exhausted</td>
</tr>
<tr>
<td>10026</td>
<td>单次请求实时数据超过限制 -- The number of quote symbols cannot be greater than xx</td>
</tr>
<tr>
<td>10027</td>
<td>A股和期货请求频率只能是5分钟或者60分钟 -- timeframe should in [5, 60]</td>
</tr>
<tr>
<td>20010</td>
<td>需要传递country参数 -- parameter country is required</td>
</tr>
<tr>
<td>20011</td>
<td>传递的国家名称有误或者该国家尚无技术指标数据 -- There is no data for this field</td>
</tr>
<tr>
<td>20012</td>
<td>需要传递series_code参数 -- parameter series_code is required</td>
</tr>
<tr>
<td>20013</td>
<td>传递的series_code参数不存在或者该指标名称尚无数据 -- There is no data for this field</td>
</tr>
<tr>
<td>20014</td>
<td>传递的transform参数不存在 -- parameter transform xx is not exist</td>
</tr>
<tr>
<td>30010</td>
<td>必须传递market参数 -- parameter market is required</td>
</tr>
<tr>
<td>30011</td>
<td>不存在传递的market市场类型 -- There is no data for this field</td>
</tr>
<tr>
<td>30012</td>
<td>lenth参数的类型应该是正整数 -- lenth should bigger than 0</td>
</tr>
<tr>
<td>30013</td>
<td>lenth参数的类型错误 -- xxx is invalid, please send type int</td>
</tr>
<tr>
<td>30014</td>
<td>排行参数错误, -- xxx is invalid send gainers or losers</td>
</tr>
<tr>
<td>30015</td>
<td>传递的market参数没有对应的数据或者该参数不存在 -- There is no data for this field</td>
</tr>
<tr>
<td>40010</td>
<td>读取数据异常 -- abnormal reading. Please try again</td>
</tr>
<tr>
<td>40011</td>
<td>需要传递symbol参数 -- parameter symbols is required</td>
</tr>
<tr>
<td>40012</td>
<td>时间参数格式错误 -- time not format like xxxx-xx-xx</td>
</tr>
<tr>
<td>40013</td>
<td>开始时间不能大于结束时间 -- start_date is greater than end_date</td>
</tr>
<tr>
<td>50010</td>
<td>获取新闻条数参数为正整数 -- The parameter limit should be a positive integer</td>
</tr>
<tr>
<td>50011</td>
<td>传递的subcat参数不存在 -- xx is not available</td>
</tr>
<tr>
<td>50012</td>
<td>传递的category参数不存在 -- xx is not available</td>
</tr>
<tr>
<td>50013</td>
<td>获取新闻条数不能超过指定条数 -- The parameter limit should be less than xx</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
